// small UI helpers: menu toggle, gallery lightbox, video modal, year
document.getElementById('year').textContent = new Date().getFullYear();

const menuBtn = document.getElementById('menuBtn');
const nav = document.getElementById('nav');
menuBtn.addEventListener('click', ()=> nav.classList.toggle('show'));

// Modal elements
const modal = document.getElementById('mediaModal');
const modalImage = document.getElementById('modalImage');
const modalVideo = document.getElementById('modalVideo');
const modalClose = document.getElementById('modalClose');

function openImage(src, alt='') {
  modalImage.style.display='block';
  modalVideo.style.display='none';
  modalImage.src = src;
  modalImage.alt = alt;
  modal.setAttribute('aria-hidden','false');
}
function openVideo(src) {
  modalVideo.style.display='block';
  modalImage.style.display='none';
  modalVideo.src = src;
  modal.setAttribute('aria-hidden','false');
}
function closeModal(){
  modal.setAttribute('aria-hidden','true');
  modalVideo.pause();
  modalVideo.src = '';
  modalImage.src='';
}
modalClose.addEventListener('click', closeModal);
modal.addEventListener('click', (e)=> { if(e.target === modal) closeModal(); });

// photo thumbnails
document.querySelectorAll('.thumb').forEach(img=>{
  img.addEventListener('click', ()=> openImage(img.dataset.full || img.src, img.alt));
});

// video cards
document.querySelectorAll('.video-card').forEach(card=>{
  card.addEventListener('click', ()=> {
    const src = card.dataset.video;
    if(src) openVideo(src);
  });
});

// make links with hash scroll smoothly
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', e=>{
    const target = document.querySelector(a.getAttribute('href'));
    if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth', block:'start'}); nav.classList.remove('show'); }
  });
});
